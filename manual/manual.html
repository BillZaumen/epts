<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>EPTS Manual</TITLE>
</HEAD>
<BODY>
  <CENTER><FONT size="+3"><B>EPTS Manual</B></FONT></CENTER>
<BR>
<BR>
<H1><A name="intro">Introduction</A></H1>

EPTS (Edit PoinTS) is a special-purpose graphics editor. Its purpose
is to make it easy to take a background, typically an image, overlay a
series of points or curves on top of it, and then scale and/or
translate the positions of the points and curves so that the locations
of the points or control points are expressed in a specific coordinate
system.

When using the BZDev class library's <code>graphs</code>
and <code>anim2d</code> packages, there are three coordinate systems
that are used:
<UL>
  <LI> the standard Java user-space coordinates, which measures
    distances in units of "points" (1/72 inches) and where the
    positive X direction points left and the positive Y direction
    points down. Without any explicit scaling, the JRE (Java Runtime
    Environment) will scale images so that one pixel covers a square
    that is 1 point by 1 point in size. This may represent several
    pixels on a display or output device (e.g., a high-resolution
    printer).  User-space coordinates are floating point numbers.
    As a result, if an output device contains 4 pixels for each
    1x1 point square, and the image is scaled down by a factor of 2,
    there will be no degradation in image quality.
  <LI> image space coordinates, in which one unit corresponds to a
    pixel of an image. The BZDev graphs package and the anim2d package
    will specify if an image, before scaling, would be rendered so
    that one pixel's height and width correspond to one unit in either
    user space or graph coordinate space. EPTS assumes that graph
    coordinate space was chosen, and allows an appropriate scale
    factor to be defined so that a distance in image space will be
    mapped to a corresponding distance in graph coordinate space.
  <LI> graph coordinate space coordinates, in which distances are
    measured in application-specific coordinates (e.g., meters) and
    where the positive X direction points left and the positive Y
    direction points up. EPTS allows distances to be specified in either
    custom units or meters.  If custom units are not used, all other
    units will be converted to meters.
</UL>
EPTS will display an image and allow one to overlay this image with
points and B&eacute;zier curves, expressing their locations and control
points in graph coordinate space units. It will also allow one to measure
the distance between points in either image space or graph coordinate space
units.


<H1><A name="menus">The menu bar</A></H1>

The EPTS window provides a menu bar containing 6 menus:
<UL>
  <LI> the <CODE><A HREF="#fileMenu"></A>File</CODE> menu.
  <LI> the <CODE><A HREF="#editMenu"></A>Edit</CODE> menu.
  <LI> the <CODE><A HREF="#zoomMenu"></A>Zoom</CODE> menu.
  <LI> the <CODE><A HREF="#measureMenu"></A>Measure Distance</CODE> menu.
  <LI> the <CODE><A HREF="#toolsMenu"></A>Tools</CODE> menu.
  <LI> the <CODE><A HREF="#helpMenu"></A>Help</CODE> menu.
</UL>
These menus are described below.

<H2><A name="fileMenu">The File menu</A></H2>

The <code>File</code> menu contains the following items:
<UL>
  <LI><code>Quit</code>. Choosing this menu item causes the program to
    exit.
  <LI><code>Save</code>. Choosing this menu item causes the program to
    be saved.
  <LI><code>Save As</code>. Choosing this menu item causes the program to
    be saved with a new file name. This new file will become the default
    file name for the <code>Save</code> menu item.
  <LI><A name="config"><code>Configure CGS</code></A>. Choosing this
    menu item will open a dialog box for configuring graph coordinate
    space. This dialog box allows one to set a distance in user-spaced
    units and the corresponding distance in graph coordinate space
    units. The units for graph coordinate space are either custom
    units (defined by the user) or meters. If another unit is
    specified, it's value will be converted to meters. Canceling the
    dialog box will restore the values to those that existed just
    before the dialog box was opened.
  <LI><code>Print Table</code>. Choosing this menu item will open
    a 'print' dialog box to print the table.
</UL>

<H2><A name="editMenu">The Edit menu</A></H2>

The <code>Edit</code> menu contains the following items:
<UL>
  <LI><CODE>Undo point insertion</CODE>. This essentially removes
    the last row (two rows for a closed path) from the table. If
    a previous path is extended via the <CODE>Tools</CODE> menu's
    <CODE>Add to B&eacute;zier Path</CODE> item, that path will be
    moved to the end of the table. While creating a path, this option
    undoes the last change.
  <LI><CODE>Copy table as ECMAScript</CODE>. This option copies the
    table to the clipboard after formatting it as a series of
    ECMA script statements.
  <LI><CODE>Set the location format</CODE>. This is a list of
    radio buttons:
    <UL>
      <LI><CODE>Location as (X,Y)</CODE>.
      <LI><CODE>Location as x: X, y: Y}</CODE>.
      <LI><CODE>Location as {x: X, y: Y}</CODE>.
      <LI><CODE>Location as V = {x: X, y: Y};</CODE>.
    </UL>
    The format is that shown by the menu-item name, excluding the
    string "Location as ", where X is the X coordinate of the point,
    Y is the Y coordinate of the point, and V is the name of a
    variable to which the object "{x: X, y: Y}" will be assigned.
</UL>

<H2><A name="zoomMenu">The Zoom menu</A></H2>
The <code>Zoom</code> menu contains the following items:
<UL>
  <LI><CODE>Reset</CODE>. This option resets the image size so that
    one pixel on the image takes up one point on the screen.
  <LI><CODE>Zoom in</CODE>. This option increases the zoom factor by a
  factor of 2.
  <LI><CODE>Zoom out</CODE>. This option decreases the zoom factor by a
    factor of 2.
</UL>
The remaining items represent specific zoom factors numerically. The
number of these entries depends on the image size.

<H2><A name="measureMenu">The Measure-Distance menu</A></H2>
The <CODE>Measure Distance</CODE> menu contains the following items:
<UL>
  <LI><CODE>Image space distance</CODE>. This option measures distances
    in image-space units. This is particularly useful just before using the
    the <CODE>File</CODE> menu's <CODE>Configure GCS</CODE> option as the
    valued measured will be automatically copied to the clipboard and
    can be pasted into the the user-space-distance field which the
    <CODE>Configure GCS</CODE> dialog box will show.
  <LI><CODE>GCS distance</CODE>. This option measures distances in graph
    coordinate space units. Until the <CODE>File</CODE> menu's
    <CODE>Configure GCS</CODE> option is used, the ratio of GCS distances
    to the corresponding image-space distances is 1 to 1.
</UL>
When either of these options is selected, the cursor will change to a
cross-hair cursor.  One should then click on a starting point, followed by
and ending point. Text will appear above the image providing instructions.
In both cases, the distance measured will be displayed an automatically
copied to the system clipboard so it can be pasted into any window
or component that will accept text.

<H2><A name="toolsMenu">The Tools menu</A></H2>

The <CODE>Tools</CODE> menu allows points and curves to be created and
displayed in textual form. This menu contains the following items:
<UL>
  <LI><CODE>Show PointTable</CODE>. Show a table containing each
    location and curve, including the curve segments, with control
    points for quadratic and cubic B&eacute; segments and with  knots
    for spline segments. The only points contained in this table are
    those created with a variable name.  All curves are included because
    all of the curves have a variable name.
  <LI><CODE>Create a Point</CODE>. This option will create a new,
    isolated point. It will appear in the table if given a name.
    A description of this point, in a format set by <CODE>Edit</CODE>
    menu options, will be copied to the clipboard. Selecting an option
    other than the one specifying a variable name will result in the
    point not appearing in the table. If a variable name is requested
    and the variable name is left as an empty string, a new variable
    name will be generated, starting the string "pt" and followed by
    a number (e.g., <code>pt7</code>.)
  <LI><CODE>Create a B&eacute;zier Path.</CODE>. A new path will be
    created. A dialog box will ask for a variable name for the path,
    and the cursor will change to a cross-hair cursor, and the user
    should select the initial point on the curve.  The point type
    shown in the table is <CODE>MOVE_TO</CODE> - only one such point
    is allowed for each curve. If a variable name is requested and the
    variable name is left as an empty string, a new variable name will
    be generated, starting the string "path" and followed by a number
    (e.g., <code>path24</code.)
  <LI><CODE>Add to a B&eacute;zier Path</CODE>. The user will be asked to
    select the name of a path, and adding points to the path will then
    be possible.
  <LI>A series of radio buttons specifying the type for
      the next point along a curve:
    <UL>
      <LI><CODE>Spline Point(s)</CODE>. This option indicates that the
	next point clicked will be a knot on a segment described by a
	spline. The path will be a smooth path going through each of
	the specified knots. While the spline is actually a sequence
	of cubic B&eacute;zier curve segments, the inner control
	points for those segments are not shown as these are
	implicitly computed.
      <LI><CODE>Control Point(s)</CODE>. This option indicates that
	the next point is a control point. There can be at most two
	control points in a row.
      <LI><CODE>End Curve/Line Segment</CODE>. This option indicates
	that the next point is the end of a segment. A segment with no
	intermediate control or spline points is a straight-line segment.
    </UL>
  <LI>Options for ending a path.
    <UL>
      <LI><CODE>Loop</CODE>. The path will be closed by connecting the
	last point entered to the first point on the path.  A loop
	must have an end-of-segment point as the last point entered
	unless all the points except the first point have a type
	equal to <CODE>SPLINE</CODE>.
      <LI><CODE>Path Ended</CODE>. This option ends the current path
	without closing it.
    </UL>
    Menu items that are not applicable are disabled.
</UL>

<H2><A name ="helpMenu">The Help menu</A></H2>
The <CODE>Help</CODE> menu provides several ways of viewing a
manual. This menu contains the following items:
<UL>
  <LI><CODE>Manual</CODE>. This option shows the manual in a window
    that contains two panes: one with a table of contents and the
    other with the manual itself.
  <LI><CODE>Print Manual</CODE>. This option opens a printer dialog
    box and allows the user to produce a printed copy of the manual.
  <LI><CODE>Browser</CODE>. This option opens the system's default
    browser and displays the manual in it. As a side effect, an embedded
    web server will also be started, and that web server can be accessed
    by other users.
</UL>

<H1><A name="mouse">Using the mouse</A></H1>

There are several combinations of mouse buttons and modifier keys that
may be used, mostly to create or modify points (locations, control
points, segment ending points, or spline points), all shown as filled
circles overlayed on the image):
<UL>
  <LI> ALT key and primary mouse button pressed. The image can be
    dragged, and scrollbars will move in the opposite direction to
    that in which the cursor moves. The image, however, cannot be
    dragged beyond the range that the scrollbars support. If a window
    system has a short cut that uses the same key-mouse combination,
    the window system's behavior may occur instead.
  <LI> Control Key and primary mouse button pressed. This combination
    is used while creating a path or extending a path.  The mouse must
    be positioned over a point when the left button is pressed. The
    point can then be dragged to a new location.  The selected point
    will have a circle around it. If a window system has a short cut
    that uses the same key-mouse combination, the window system's
    behavior may occur instead.
  <LI> No keys but the primary mouse button clicked. When a cross-hair
    cursor is shown, a point will be added, either an isolated point
    or an additional point along a curve. When the normal 'arrow' cursor
    is shown, this option allows one to select or deselect a point.
    A point is selected when the mouse is clicked while positioned over
    it. A point is deselected by clicking on an area of the image that does
    not contain a point. When a point is selected, a ring is drawn around it.
  <LI> A pop-up menu is requested. The key sequence is system dependent.
    On X-windows systems, one typically presses the button on the
    opposite side of the mouse from the primary button.
    In the Java look and feel, clicking the this mouse button will make
    the pop-up menu stay up. Pop-Up menus are context sensitive. They can
    appear when a point has been selected or when a cross-hair cursor
    is shown and there is a previous point to modified.
</UL>
In most configurations, the primary mouse button is the left mouse
button. Windows systems, however, may give the user the option of
changing this.

<H2><A name="popup">Popup Menus</A></H2>

There are two popup menus that can be displayed. As stated above,
these are context-sensitive.

When a path is being created or extended, and a point has been added,
a popup menu is available that will allow one to change the type of
the last point entered.  The options are to change a mode to
<CODE>SEG_END</CODE>, <CODE>SPLINE</CODE>, or <CODE>CONTROL</CODE>.
Only the options that are applicable given the types of the
previous points on the path will be enabled.

When a path is not being created or extended, but a point on a path
has been selected, a popup menu is also available. This menu provides
the following options:
<UL>
  <LI><CODE>Delete Point</CODE>. This option deletes the selected point
    from the path.
  <LI><CODE>Change Point Type</CODE>. This option allows one to change
    the type of the selected point. The choice types is dependent on
    the types of the surrounding points.
  <LI><CODE>Insert Before Point</CODE>. This option allows one to insert
    a new point into a path before the selected point.
  <LI><CODE>Insert After Point</CODE>.  This option allows one to insert
    a new point into a path after the selected point.
  <LI><CODE>Break Loop</CODE>. This option turns a closed path into an
    open path.
  <LI><CODE>Extend Path</CODE>. This option allows one to add new
    points to a path. It will also re-order the table (for reasons
    of convenience, when a path is extended, it is moved to the end
    of the table).
</UL>

<H1><A name="shortcuts">Keyboard shortcuts</A></H1>

Some shortcuts apply regardless of the current mode:
<UL>
  <LI> Control-Q. This will cause EPTS to terminate.
  <LI> Control-P. This will print the table.
  <LI> Control-Z. This is an "undo" operation.
  <LI> Control-Minus. Zoom out.
  <LI> Control-Plus.  Zoom in.
  <LI> Control-0. Restore the zoom factor to the original size. (1 to 1).
  <LI> Control-T. Display the table in a separate window.
  <LI> Control-Right-Arrow. Move the horizontal scroll bar to the right.
  <LI> Control-Left-Arrow. Move the horizontal scroll bar to the left.
  <LI> Control-Up-Arrow. Move the vertical scroll bar up.
  <LI> Control-Down-Arrow. Move the vertical scroll bar down.
  <LI> Alt-A. Append points to a B&eacute;zier path.
  <LI> Alt-I. Measure the image-space distance between two points.
  <LI> Alt-G. Measure the graph-coordinate-space distance between two
    points.  To provide a meaningful distance, graph coordinate space
    must be configured first. The
    <A href="#config"><CODE>Configure CGS</CODE></A> menu item allows
    graph coordinate space to be configured.
  <LI> Alt-P. Add an isolated point.  The user will be asked to supply
    a variable name that has not been used before. If that variable
    name is not provided or consists of just whitespace, a name will
    be generated.  A generated name starts with the
    string <code>pt</code> and ends with a positive integer.
  <LI> Alt-B. Add a B&eacute;zier path. The user will be asked to
    supply a variable name that has not been used before. If that
    variable name is not provided or consists of just whitespace, a
    name will be generated.  A generated name starts with the
    string <code>path</code> and ends with a positive integer.
</UL>

By contrast, some key combinations apply only when adding a point to
a path or creating an isolated point at a specific location:
<UL>
  <LI> Right-Arrow. When this key is clicked, a cross-hair cursor will
    move to the right.
  <LI> Left-Arrow.  When this key is clicked, a cross-hair cursor will
    move to the left.
  <LI> Up-Arrow.  When this key is clicked, a cross-hair cursor will
    move to up.
  <LI> Down-Arrow. When this key is clicked, a cross-hair cursor will
    move to down.
  <LI> S. When the S key is pressed (without a modifier key, regardless
    of whether the caps-lock key is in use), the next point will be
    a spline point. If a spline point is not allowed, the keystroke
    will be ignored.
  <LI> C. When the C key is pressed (without a modifier key, regardless
    of whether the caps-lock key is in use), the next point will be a
    control point.  If a control point is not allowed, the keystroke
    will be ignored.
  <LI> E. When the E key is pressed (without a modifier key, regardless
    of whether the caps-lock key is in use), the next point will be an
    end-of-segment point.
  <LI> L. When the L key is pressed (without a modifier key, regardless
    of whether the caps-lock key is in use), the current path will be
    ended in a loop. This option will be ignored if the last point is
    a control point or if the last point is a spline point and there is
    an end-of-segment point that is already part of the path.
  <LI> Z. When the Z key is pressed (without a modifier key, regardless
    of whether the caps-lock key is in use), the current path will remain
    open and will be ended.  The type of the last point will be changed to
    an end-of-segment point.
</UL>

<H1><A name="templates">Templates</A></H1>
<P>
Templates specify an output format for points and paths using the
syntax specified by the Java
class <CODE>org.bzdev.util.TemplateProcessor</CODE>.  Instances of
this class are constructed using a tree consisting of objects whose type
is <CODE>org.bzdev.util.TemplateProcessor.KeyMap</CODE> or
is <CODE>org.bzdev.util.TemplateProcessor.KeyMapList</CODE>. This
tree determines the directives a give template processor supports
and how those directives are used. Each value corresponding to a key
is either a string (<CODE>java.lang.String</CODE>), a <CODE>KeyMap</CODE>,
an array of <CODE>KeyMap</CODE>, or a <CODE>KeyMapList</CODE>. The
keys name directives. When a key's value is a string, the directive is
a simple directive.  Otherwise it is an iterative directive. When the
value of an iterative directive is a single <CODE>KeyMap</CODE>, the
iteration occurs once and this can be used a conditional (provided
when the directive is defined and missing when it is not defined).
<P>
A template contains a mixture of text and directives stored in a text
file. In a template, directives start with the sequence "$(" and end with a
closing ")".  A simple directive contains a variable name and its
value is a string that provides text that will be substituted for the
directive.  For example, the directive "$(varname)" will be replaced
by a string containing a variable name.  The directive "$$" is
replaced with a single dollar sign.  An iterative directive consists
of a name, a colon (":") and a second name. Its value is either a
key map (in which case it is treated like a list with a single value,
or a list or array providing key maps over which one iterates). A
following simple directive containing the second name will then end
the iterative block.
<P>
Directives can be globally defined or can be scoped to apply only
within an iterative block.  When blocks are nested and a directive is
defined at multiple levels, the most recent definition is used.
<P>
EPTS defines one global directive: <CODE>items</CODE>, which is an
iterative directive.  This directive iterates through a list,
setting values for the following directives:
<UL>
  <LI> <CODE>varname</CODE>. This is a simple directive defining a
    variable name associated with a location or path.
  <LI><CODE>index</CODE>. An overall index. This value is incremented
    for each line in the table.
  <LI><CODE>vindex</CODE>. An variable-name index. This value is
    incremented whenever a variable name changes.
  <LI> <CODE>location</CODE>. This is an iterative directive that
    defines a specific, isolated point. While iterative, each
    definition contains only a single point. Both
    <CODE>location</CODE> and <CODE>pathStatement</CODE> will not
    both be present at a specific iteration, although one of the
    two will be present.
  <LI> <CODE>pathStatement</CODE>. This is an iterative directive
    that defines the control points for a path. While iterative, each
    pathSegment definition contains a single key map as its value. Both
    <CODE>location</CODE> and <CODE>pathStatement</CODE> will not
    both be present at a specific iteration, although one of the
    two will be present.
</UL>
For example,
<BLOCKQUOTE><CODE><PRE>
      $(items:endItems)$(varname)
      $(endItems)
</PRE></CODE></BLOCKQUOTE>
will generate a list of variable names, one per line, for all the
points and paths that are currently defined.
<P>
The value for <CODE>location</CODE> is a key map containing
the following keys describing a point:
<UL>
  <LI><CODE>x</CODE>. The X coordinate of the point in graph coordinate
    space.
  <LI><CODE>y</CODE>. The Y coordinate of the point in graph coordinate
    space.
  <LI><CODE>xp</CODE>. The X coordinate of the point in image space.
  <LI><CODE>yp</CODE>. The Y coordinate of the point in image space,
    measured from bottom to top (the reverse of the usual Java convention).
  <LI><CODE>ypj</CODE>. The Y coordinate of the point in image space
    measured from top to bottom (the normal Java convention).
</UL>
<P>
Similarly, the value for <CODE>pathStatement</CODE> is a key map
containing the following directives:
<UL>
  <LI><CODE>pindex</CODE>. The value is "1" for the initial
    MOVE_TO operation for a path and is incremented for each
    control point, spline point, or end-of-segment point, along
    the path, and for a final 'close' directive if there is one.
  <LI><CODE>type</CODE>. This is the type of a point or operation
    along the path (<CODE>MOVE_TO</CODE>, <CODE>SPLINE</CODE>,
    <CODE>CONTROL</CODE>, <CODE>SEG_END</CODE>, or <CODE>CLOSE</CODE>).
  <LI><CODE>ltype</CODE>. This is similar to the <CODE>type</CODE>
    directive, but substitutes <CODE>CONTROL_POINT</CODE> for
    <CODE>CONTROL</CODE>, and <CODE>SPLINE_POINT</CODE>
    for <CODE>SPLINE</CODE>. The directive <CODE>ltype</CODE> is useful
    for configuring an instance of the class
    <CODE>org.bzdev.anim2d.AnimationLayer2DFactory</CODE>.
  <LI><CODE>atype</CODE>. This is is similar to <CODE>type</CODE> but
    with an alternative value defined by the user via a command-line
    argument that provides the name of a file mapping types to their
    replacement strings.
  <LI><CODE>xy</CODE>. This is an iterative directive, with 0 or 1
    iterations. It defines the following directives (the same ones
    as defined by the location directive) when the value of
    <CODE>type</CODE>is <CODE>MOVE_TO</CODE>, <CODE>SPLINE</CODE>,
    <CODE>CONTROL</CODE>, or <CODE>SEG_END</CODE>:
    <UL>
      <LI><CODE>x</CODE>. The X coordinate of the point in graph
	coordinate space.
      <LI><CODE>y</CODE>. The Y coordinate of the point in graph
	coordinate space.
      <LI><CODE>xp</CODE>. The X coordinate of the point in image
	space.
      <LI><CODE>yp</CODE>. The Y coordinate of the point in image
	space, measured from bottom to top (the reverse of the usual Java
	convention).
      <LI><CODE>ypj</CODE>. The Y coordinate of the point in image
	space measured from top to bottom (the normal Java convention).
    </UL>
    When the type is <CODE>CLOSE</CODE>, the <CODE>xy</CODE> directive
    is not defined.
</UL>
<P>
For example, the following template will create a set of statements
suitable for use by ECMAScript (the template EPTS actually uses has
less whitespace so that the output will contain fewer blank lines and
will be indented properly for readability):
<BLOCKQUOTE><CODE><PRE>
  $(items:endItems)
     $(location:endLocation)
        var $(varname) = {x: $(x), y: $(y)};
  $(endLocation)
  $(pathStatement:endPathStatement)
     var $(varname) = [
         $(pathItem:endPathItem)
            {type: "$(type)"
            $(xy:endXY), x: $(x), y: $(y)$(endXY)}$(optcomma)
         $(endPathItem)
        ];
  $(endPathStatement)
$(endItems)
</PRE></CODE></BLOCKQUOTE>

<H1><A name="cli">The command-line interface</A></H1>

EPTS can be as a window-system-based program or as a command-line
program.  The command-line capabilities allow EPTS to be used (for
example) in a Makefile, where it will generate files in user-specified
formats. Meanwhile, EPTS's GUI can be used to edit a saved state.
Options that generate files use the <CODE>--o</CODE> flag to set
the name of the output file, with <CODE>-</CODE> indicating
standard output.
<P>
If the <CODE>epts</CODE> command is run with no arguments, the program
will open a dialog box asking for the name of an image file to open.
This file will provide a background image that will appear in the
program's main window. If the epts command is run with a single
argument, the name of an EPTS file, the program will restore its state
to the state that existed when this EPTS file was created (typically
by saving a previous session).  Usually a computer's window system
will be configured so that one can simply double-click the EPTS file
rather than having to run a specific command.

<H2><A name="eptsOnlyOptions">Options specific to EPTS</A></H2>

The options specific to the EPTS command are:
<UL>
  <LI><CODE>--image</CODE>.
    This option implies that there will be one file argument specifying
    the name of an image file.
  <LI><CODE>--map</CODE> <EM>MAPFILE</EM>.
    The file <EM>MAPFILE</EM> is a text file (UTF-8 encoded) whose
    entries are a series of lines. Each line contains a token
    that is the name of an enumeration constant whose type is
    org.bzdev.geom.SplinePathBuilder.CPointType, followed by
    whitespace separating that token from its replacement value.
    Any trailing whitespace will be removed from the replacement.
    Valid token values are <CODE>MOVE_TO</CODE>, <CODE>SPLINE</CODE>,
    <CODE>CONTROL</CODE>, <CODE>SEG_END</CODE>, or <CODE>CLOSE</CODE>.
    In templates, the tokens become the value for <CODE>$(type)</CODE>
    and the replacements become the value for <CODE>$(atype)</CODE>.
    If a mapping is not defined, the replacement is the same as the
    original. The argument <EM>MAPFILE</EM> can be either a file
    name or a URL. If the file named is a relative file, the name
    is resolved using the current working directory when EPTS started.
    This may not be the current working directory while EPTS is
    running as the current working directory may be changed when an
    EPTS file (one with a .epts extension) is processed.  If
    <EM>MAPFILE</EM> starts with the string "sresource:",
    "file:", "http:", "https:", or "ftp", then <EM>MAPFILE</EM> is
    assumed to be a URL pointing to the object to read.
  <LI><CODE>--template</CODE> <EM>TFILE</EM>.
    When <EM>TFILE</EM> starts with the string  "sresource:",
    "file:", "http:", "https:", or "ftp", <EM>TFILE</EM> is assumed
    to be a URL. Otherwise is is assumed to be the name of a file.
    The syntax of a template is describe in the section of this
    manual entitled "<A href="#templates">Templates</A>". For the
    <CODE>sresource</CODE> protocol, the template is embedded in the
    EPTS application. Supported templates are
    <UL>
      <LI><CODE>ECMAScriptLayers</CODE>.
      <LI><CODE>ECMAScriptLocations</CODE>.
      <LI><CODE>ECMAScriptPaths</CODE>.
      <LI><CODE>ECMAScript</CODE>.
    </UL>
  <LI><CODE>-o</CODE> <EM>OUTFILE</EM>.  This option specifies the
    name of the output file for template processing.  If it is a
    relative file, it will be resolved against the current working
    directory that existed when EPTS was started.  If the file name is
    "-", the output will be sent to standard output.
  <LI><CODE>--</CODE>. End of options. This can be used
    if file names start with the character '-'. Otherwise
    it is not necessary.
</UL>

<H2><A name="scrunner">Scrunner options</A></H2>

There are a set of command-line options that are the same as those
provided by the scrunner command. These are
<UL>
  <LI><CODE>--cosebase</CODE> <EM>SPEC</EM>.
    This option allows additional code bases to be available to the
    JVM. Any number of <CODE>--codebase</CODE> options may be
    provided, and each option can contain multiple code bases
    with the character '|' used as a separator. A code base is specified
    by either a URL or a path name of a file in (local) file system.
    If there is a ':' in the file name and the preceding characters are
    consistent with a protocol name in a URL, the file name will be treated
    as a URL. In this case, use a "file:" URL to specify the code base.
    Several characters are treated specially. A leading "~" followed by
    the name separator ("/" for Unix) is expanded to the user's home
    directory. A file name consisting only of "~" is replaced with the
    user's home directory. A leading "~~" is replaced with "~", and
    a leading "..." followed by the name separator ("/" for Unix) is
    replaced by the directory in which the EPTS program's JAR
    file is located. This will typically be the same directory as
    the BZDev class library's JAR file.
  <LI><CODE>-D</CODE><EM>NAME</EM><CODE>=</CODE><EM>VALUE</EM>.
    This option defines a system property whose name is <EM>Name</EM>
    and whose value is <EM>VALUE</EM>.
  <LI><CODE>--dryrun</CODE>. This options simply prints the java
    command that will be used to start the JVM and run the program.
    It is useful primarily for debugging.
  <LI><CODE>-J</CODE><EM>OPTION</EM>. The string <EM>OPTION</EM>
    is turned into an option passed to the 'java' command used
    to start the JVM. It can be used, for example, to increase the
    memory available to the JVM. If the option starts with a leading
    '-', that must be provided explicitly.
  <LI><CODE>-L</CODE> <EM>LNAME</EM>.
    When scripting is used, this option explicitly indicates a
    scripting language. <CODE>ECMAScript</CODE> is always supported.
</UL>

</BODY>

<!--  LocalWords:  EPTS PoinTS BZDev anim zier ECMA GCS JRE Runtime
 -->
<!--  LocalWords:  overlayed scrollbars whitespace varname Makefile
 -->
<!--  LocalWords:  pathSegment EPTS's epts MAPFILE UTF sresource http
 -->
<!--  LocalWords:  https TFILE OUTFILE Scrunner scrunner JVM LNAME
 -->
